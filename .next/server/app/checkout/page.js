(()=>{var e={};e.id=285,e.ids=[285],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3930:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d}),t(1324),t(4614),t(5866);var s=t(3191),a=t(8716),n=t(7922),l=t.n(n),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(r,o);let d=["",{children:["checkout",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1324)),"/mnt/c/Users/Feras/Desktop/AI WEBSITE/door/src/app/checkout/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,4614)),"/mnt/c/Users/Feras/Desktop/AI WEBSITE/door/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/mnt/c/Users/Feras/Desktop/AI WEBSITE/door/src/app/checkout/page.tsx"],x="/checkout/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/checkout/page",pathname:"/checkout",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},6858:(e,r,t)=>{Promise.resolve().then(t.bind(t,7758))},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}})},7758:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>c});var s=t(326),a=t(7577),n=t(3232),l=t(8454),i=t(4685),o=t(434),d=t(5047);function c(){let{items:e,cartTotal:r,clearCart:t,updateQuantity:c}=(0,n.j)(),{t:x,locale:m}=(0,l.Q)(),u=(0,d.useRouter)(),[p,h]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:"",city:"",address:"",notes:""}),[b,g]=(0,a.useState)(!1),[f,y]=(0,a.useState)(""),[j,N]=(0,a.useState)("cod"),v=e=>{h({...p,[e.target.name]:e.target.value})},A=async s=>{s.preventDefault(),y(""),g(!0);try{if(!(await fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:e.map(e=>({productId:e.product.id,quantity:e.quantity,finish:e.options?.finish,price:e.product.price})),customer:p,total:r+("cod"===j?15:0),paymentMethod:j,locale:m})})).ok)throw Error("Failed to place order");t(),alert("ar"===m?"تم استلام طلبك بنجاح! سنتواصل معك قريباً.":"Order placed successfully! We will contact you shortly."),u.push("/")}catch(e){y("ar"===m?"حدث خطأ أثناء إرسال الطلب. يرجى المحاولة مرة أخرى.":"Error placing order. Please try again.")}finally{g(!1)}};return 0===e.length?s.jsx(i.Z,{children:(0,s.jsxs)("div",{className:"container py-20 text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"ar"===m?"سلة المشتريات فارغة":"Your Application Cart is Empty"}),s.jsx(o.default,{href:"/store",className:"btn btn-gold inline-flex items-center gap-2",children:"ar"===m?"تصفح المتجر":"Browse Store"})]})}):s.jsx(i.Z,{children:s.jsx("div",{className:"bg-[#F5F5F0] min-h-screen py-12",children:(0,s.jsxs)("div",{className:"container",children:[s.jsx("h1",{className:"text-3xl font-bold mb-8 font-cairo text-[#1A1A1A]",children:"ar"===m?"إتمام الطلب":"Checkout"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"w-8 h-8 rounded-full bg-[#D4A017] text-white flex items-center justify-center text-sm",children:"1"}),"ar"===m?"بيانات العميل":"Customer Details"]}),(0,s.jsxs)("form",{id:"checkout-form",onSubmit:A,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ar"===m?"الاسم الأول":"First Name"}),s.jsx("input",{type:"text",name:"firstName",required:!0,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#D4A017] outline-none",onChange:v})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ar"===m?"الاسم الأخير":"Last Name"}),s.jsx("input",{type:"text",name:"lastName",required:!0,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#D4A017] outline-none",onChange:v})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ar"===m?"البريد الإلكتروني":"Email Address"}),s.jsx("input",{type:"email",name:"email",required:!0,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#D4A017] outline-none",onChange:v})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ar"===m?"رقم الهاتف (واتساب)":"Phone Number (WhatsApp)"}),s.jsx("input",{type:"tel",name:"phone",required:!0,placeholder:"+966...",className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#D4A017] outline-none",onChange:v})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ar"===m?"المدينة":"City"}),s.jsx("input",{type:"text",name:"city",required:!0,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#D4A017] outline-none",onChange:v})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ar"===m?"العنوان بالتفصيل":"Address Details"}),s.jsx("textarea",{name:"address",required:!0,rows:3,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#D4A017] outline-none",onChange:v})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ar"===m?"ملاحظات إضافية":"Additional Notes"}),s.jsx("textarea",{name:"notes",rows:2,className:"w-full p-3 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#D4A017] outline-none",onChange:v})]}),f&&s.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm",children:f})]})]}),(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm mt-8",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"w-8 h-8 rounded-full bg-[#D4A017] text-white flex items-center justify-center text-sm",children:"2"}),"ar"===m?"طريقة الدفع":"Payment Method"]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("label",{className:`flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${"cod"===j?"border-[#D4A017] bg-[#FFF9E6]":"border-gray-100 hover:border-gray-200"}`,children:[s.jsx("input",{type:"radio",name:"payment",value:"cod",checked:"cod"===j,onChange:()=>N("cod"),className:"mt-1 w-4 h-4 accent-[#D4A017]"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"font-bold text-[#1A1A1A]",children:"ar"===m?"الدفع عند الاستلام":"Cash on Delivery"}),s.jsx("span",{className:"text-xs font-bold text-[#D4A017] bg-[#D4A017]/10 px-2 py-1 rounded",children:"+15 SAR"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"ar"===m?"الدفع نقداً عند استلام الطلب":"Pay cash when you receive your order"})]})]}),(0,s.jsxs)("label",{className:`flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${"bank_transfer"===j?"border-[#D4A017] bg-[#FFF9E6]":"border-gray-100 hover:border-gray-200"}`,children:[s.jsx("input",{type:"radio",name:"payment",value:"bank_transfer",checked:"bank_transfer"===j,onChange:()=>N("bank_transfer"),className:"mt-1 w-4 h-4 accent-[#D4A017]"}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("span",{className:"font-bold text-[#1A1A1A] block mb-1",children:"ar"===m?"تحويل بنكي":"Bank Transfer"}),"bank_transfer"===j&&(0,s.jsxs)("div",{className:"mt-3 p-3 bg-white rounded border border-gray-200 text-sm",children:[s.jsx("p",{className:"font-bold mb-1",children:"ar"===m?"تفاصيل الحساب:":"Account Details:"}),s.jsx("p",{className:"text-gray-600 font-mono text-xs mb-1",children:"Al Rajhi Bank"}),s.jsx("p",{className:"text-gray-600 font-mono text-xs mb-1",children:"SA58 8000 0000 0000 0000 0000"}),s.jsx("p",{className:"text-gray-600 font-mono text-xs",children:"Saudi Wood Factory"})]})]})]}),(0,s.jsxs)("label",{className:`flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${"tabby"===j?"border-[#00E5C0] bg-[#F0FFFB]":"border-gray-100 hover:border-gray-200"}`,children:[s.jsx("input",{type:"radio",name:"payment",value:"tabby",checked:"tabby"===j,onChange:()=>N("tabby"),className:"mt-1 w-4 h-4 accent-[#00E5C0]"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"font-bold text-[#1A1A1A]",children:"ar"===m?"تابي":"Tabby"}),s.jsx("span",{className:"text-[10px] font-bold bg-[#00E5C0] text-black px-2 py-0.5 rounded-full",children:"ar"===m?"4 دفعات":"Split in 4"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"ar"===m?"بدون فوائد أو رسوم":"No interest or fees"})]})]}),(0,s.jsxs)("label",{className:`flex items-start gap-4 p-4 rounded-xl border-2 cursor-pointer transition-all ${"tamara"===j?"border-[#ED7862] bg-[#FFF2F0]":"border-gray-100 hover:border-gray-200"}`,children:[s.jsx("input",{type:"radio",name:"payment",value:"tamara",checked:"tamara"===j,onChange:()=>N("tamara"),className:"mt-1 w-4 h-4 accent-[#ED7862]"}),(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[s.jsx("span",{className:"font-bold text-[#1A1A1A]",children:"ar"===m?"تمارا":"Tamara"}),s.jsx("span",{className:"text-[10px] font-bold bg-[#ED7862] text-white px-2 py-0.5 rounded-full",children:"ar"===m?"4 دفعات":"Split in 4"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"ar"===m?"بدون فوائد أو رسوم":"No interest or fees"})]})]})]})]})]}),s.jsx("div",{children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-sm sticky top-24",children:[(0,s.jsxs)("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"w-8 h-8 rounded-full bg-[#F0F0EC] text-[#1A1A1A] flex items-center justify-center text-sm border border-gray-200",children:"2"}),"ar"===m?"ملخص الطلب":"Order Summary"]}),s.jsx("div",{className:"space-y-4 mb-6",children:e.map(e=>(0,s.jsxs)("div",{className:"flex gap-4 py-4 border-b border-gray-100 last:border-0",children:[s.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 relative",children:s.jsx("img",{src:e.product.image,alt:"",className:"w-full h-full object-cover"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-bold text-sm text-[#1A1A1A]",children:"ar"===m?e.product.nameAr:e.product.nameEn}),s.jsx("p",{className:"text-xs text-gray-500 mb-2",children:e.options?.finish||"Default"}),(0,s.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-md w-fit bg-white",children:[s.jsx("button",{onClick:()=>c(e.product.id,e.quantity-1),className:"px-2 py-0.5 text-gray-500 hover:bg-gray-50 text-sm disabled:opacity-50",disabled:e.quantity<=1,children:"-"}),s.jsx("span",{className:"px-2 text-xs font-semibold min-w-[20px] text-center",children:e.quantity}),s.jsx("button",{onClick:()=>c(e.product.id,e.quantity+1),className:"px-2 py-0.5 text-gray-500 hover:bg-gray-50 text-sm",children:"+"})]})]}),(0,s.jsxs)("div",{className:"font-bold text-sm",children:[(()=>{let r=e.product.price||0;if(e.product.priceTiers){let t=e.product.priceTiers.sort((e,r)=>r.min-e.min).find(r=>e.quantity>=r.min);t&&(r=t.price)}return(r*e.quantity).toLocaleString()})()," SAR"]})]},e.product.id))}),(0,s.jsxs)("div",{className:"border-t border-gray-100 pt-4 space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"ar"===m?"المجموع الفرعي":"Subtotal"}),(0,s.jsxs)("span",{children:[r.toLocaleString()," SAR"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"ar"===m?"الشحن":"Shipping"}),s.jsx("span",{className:"text-green-600 text-sm",children:"ar"===m?"مجاني لفترة محدودة":"Free (Limited Time)"})]}),"cod"===j&&(0,s.jsxs)("div",{className:"flex justify-between text-gray-600",children:[s.jsx("span",{children:"ar"===m?"رسوم الدفع عند الاستلام":"COD Fee"}),(0,s.jsxs)("span",{children:[15," SAR"]})]}),(0,s.jsxs)("div",{className:"flex justify-between text-xl font-bold text-[#1A1A1A] pt-2 border-t border-gray-100 mt-2",children:[s.jsx("span",{children:"ar"===m?"الإجمالي":"Total"}),(0,s.jsxs)("span",{children:[(r+("cod"===j?15:0)).toLocaleString()," SAR"]})]})]}),(0,s.jsxs)("div",{className:"mt-6 bg-[#FFF9E6] p-4 rounded-xl border border-[#D4A017]/20 flex gap-3",children:[s.jsx("span",{className:"text-xl",children:"\uD83D\uDEE1️"}),s.jsx("p",{className:"text-xs text-[#8B6914] leading-relaxed",children:"ar"===m?"تسوقك آمن 100%. جميع المنتجات مضمونة من المصنع مباشرة مع ضمان استبدال أو استرجاع.":"Your shopping is 100% secure. All products are guaranteed directly from the factory with a replacement or return warranty."})]}),s.jsx("button",{type:"submit",form:"checkout-form",disabled:b,className:"w-full bg-[#1A1A1A] text-white py-4 rounded-xl font-bold text-lg hover:bg-[#D4A017] transition-colors mt-6 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:b?"ar"===m?"جاري الإرسال...":"Processing...":"ar"===m?`تأكيد الطلب (${(r+("cod"===j?15:0)).toLocaleString()} ر.س)`:`Place Order (${(r+("cod"===j?15:0)).toLocaleString()} SAR)`})]})})]})]})})})}},4685:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var s=t(326);t(7577);var a=t(3102),n=t(4176);function l({children:e}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.Z,{}),s.jsx("main",{style:{paddingTop:72},children:e}),s.jsx(n.Z,{})]})}},1324:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>l,__esModule:()=>n,default:()=>i});var s=t(8570);let a=(0,s.createProxy)(String.raw`/mnt/c/Users/Feras/Desktop/AI WEBSITE/door/src/app/checkout/page.tsx`),{__esModule:n,$$typeof:l}=a;a.default;let i=(0,s.createProxy)(String.raw`/mnt/c/Users/Feras/Desktop/AI WEBSITE/door/src/app/checkout/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,363,621,335,524],()=>t(3930));module.exports=s})();