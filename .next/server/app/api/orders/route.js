"use strict";(()=>{var e={};e.id=146,e.ids=[146],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9729:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>f,patchFetch:()=>h,requestAsyncStorage:()=>l,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g});var a={};t.r(a),t.d(a,{GET:()=>u,POST:()=>d,PUT:()=>p});var s=t(9303),n=t(8716),i=t(670),o=t(7070),c=t(4672);async function u(){let e=await (0,c.AU)();return o.NextResponse.json(e)}async function d(e){try{let r=await e.json();if(!r.items||!r.customer||!r.total)return o.NextResponse.json({error:"Missing required fields"},{status:400});let t={id:`ORD-${Date.now()}`,customerName:`${r.customer.firstName} ${r.customer.lastName}`,email:r.customer.email,phone:r.customer.phone,totalAmount:r.total,items:r.items,status:"pending"},a=await (0,c.fS)(t);return o.NextResponse.json(a,{status:201})}catch(e){return console.error("Error creating order:",e),o.NextResponse.json({error:"Internal Server Error"},{status:500})}}async function p(e){try{let{id:r,status:t}=await e.json();if(!r||!t)return o.NextResponse.json({error:"Missing id or status"},{status:400});let a=await (0,c.Cs)(r,t);if(!a)return o.NextResponse.json({error:"Order not found"},{status:404});return o.NextResponse.json(a)}catch(e){return o.NextResponse.json({error:"Internal Server Error"},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/orders/route",pathname:"/api/orders",filename:"route",bundlePath:"app/api/orders/route"},resolvedPagePath:"/mnt/c/Users/Feras/Desktop/AI WEBSITE/door/src/app/api/orders/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:g,serverHooks:y}=m,f="/api/orders/route";function h(){return(0,i.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},8194:(e,r,t)=>{t.d(r,{Z:()=>s});let a=require("@prisma/client"),s=globalThis.prisma??new a.PrismaClient},4672:(e,r,t)=>{t.d(r,{AU:()=>g,B:()=>d,Cs:()=>f,Ir:()=>o,LO:()=>l,Xp:()=>s,a6:()=>m,fS:()=>y,gK:()=>i,jI:()=>p,mW:()=>c,nM:()=>n,ty:()=>u});var a=t(8194);async function s(){return await a.Z.product.findMany({orderBy:{createdAt:"desc"}})}async function n(e,r){try{return await a.Z.product.update({where:{id:e},data:{...r,badges:r.badges,images:r.images,finishes:r.finishes,specs:r.specs,priceTiers:r.priceTiers}})}catch(e){return console.error("Error updating product:",e),null}}async function i(e){return await a.Z.product.create({data:{id:e.id,nameEn:e.nameEn,nameAr:e.nameAr,descEn:e.descEn,descAr:e.descAr,category:e.category,seriesEn:e.seriesEn,seriesAr:e.seriesAr,badges:e.badges||[],image:e.image,images:e.images||[],finishes:e.finishes,specs:e.specs,ref:e.ref,price:e.price,priceTiers:e.priceTiers,showInStore:e.showInStore??!0}})}async function o(e){try{return await a.Z.product.delete({where:{id:e}}),!0}catch{return!1}}async function c(){return await a.Z.project.findMany({orderBy:{createdAt:"desc"}})}async function u(e,r){try{return await a.Z.project.update({where:{id:e},data:{...r,tags:r.tags,images:r.images}})}catch(e){return console.error("Error updating project:",e),null}}async function d(e){return await a.Z.project.create({data:{id:e.id,titleEn:e.titleEn,titleAr:e.titleAr,descEn:e.descEn,descAr:e.descAr,category:e.category,subcategory:e.subcategory,status:e.status,tags:e.tags||[],images:e.images||[],featuredImage:e.featuredImage,lastEdited:e.lastEdited}})}async function p(e){try{return await a.Z.project.delete({where:{id:e}}),!0}catch{return!1}}async function m(){return await a.Z.inquiry.findMany({orderBy:{createdAt:"desc"}})}async function l(e){return await a.Z.inquiry.create({data:{name:e.name,email:e.email,phone:e.phone,message:e.message,productId:e.productId,status:e.status||"pending"}})}async function g(){return await a.Z.order.findMany({orderBy:{createdAt:"desc"}})}async function y(e){return await a.Z.order.create({data:{customerName:e.customerName,email:e.email,phone:e.phone,totalAmount:e.totalAmount,items:e.items,status:e.status||"pending"}})}async function f(e,r){try{return await a.Z.order.update({where:{id:e},data:{status:r}})}catch{return null}}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,972],()=>t(9729));module.exports=a})();